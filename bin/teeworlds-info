#!/usr/bin/env node
'use strict';

var path = require('path');
var teeworldsInfo = require('../lib/teeworlds-info');

var argv = process.argv.slice(2);
if (argv.length != 2) {
  process.stdout.write('Usage: ' + path.basename(process.argv[1]) + ' host port\n');
  process.exit(1);
}

var host = argv[0];
var port = parseInt(argv[1]);

teeworldsInfo.getInfo(host, port).then(function(info) {
  process.stdout.write(JSON.stringify(info) + '\n');
}, function(err) {
  process.stderr.write(err.message + '\n');
});
